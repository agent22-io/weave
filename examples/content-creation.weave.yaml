version: "1.0"

# Content Creation Pipeline
# Use case: Automated blog post creation from research to publication

storage:
  enabled: true
  base_path: ".weave/storage"
  state_file: ".weave/state.yaml"

tools:
  web_search:
    description: "Search the web for information"
    category: "research"
    parameters:
      query:
        type: "string"
        description: "Search query"
        required: true
      max_results:
        type: "integer"
        description: "Maximum number of results"
        required: false

  seo_analyzer:
    description: "Analyze content for SEO optimization"
    category: "analysis"
    parameters:
      content:
        type: "string"
        description: "Content to analyze"
        required: true
      target_keywords:
        type: "array"
        description: "Target keywords for SEO"
        required: false

agents:
  topic_researcher:
    model: "gpt-4"
    capabilities: [research, search, text-analysis]
    model_config:
      temperature: 0.7
      max_tokens: 2000
    tools: [web_search, calculator]
    outputs: "research_findings"
    storage:
      save_outputs: true
      save_logs: true
    prompt: |
      Research the given topic thoroughly:
      - Find recent trends and statistics
      - Identify key points and insights
      - Gather credible sources
      - Summarize findings in a structured format

  content_writer:
    model: "gpt-4"
    capabilities: [text-generation, chat]
    model_config:
      temperature: 0.8
      max_tokens: 3000
    inputs: "topic_researcher"
    tools: [string_formatter, text_length]
    memory:
      type: "buffer"
      max_messages: 50
      persist: true
    outputs: "draft_content"
    storage:
      save_outputs: true
      save_memory: true
    prompt: |
      Write a compelling blog post based on the research:
      - Create an engaging introduction
      - Structure content with clear sections
      - Include relevant examples and data
      - Write a strong conclusion with call-to-action
      - Target length: 1200-1500 words

  editor:
    model: "claude-3-opus"
    capabilities: [text-analysis, optimization, qa]
    model_config:
      temperature: 0.3
      max_tokens: 2500
    inputs: "content_writer"
    tools: [string_formatter, seo_analyzer]
    outputs: "edited_content"
    storage:
      save_outputs: true
    prompt: |
      Edit and refine the content:
      - Check grammar and style
      - Improve readability and flow
      - Optimize for SEO
      - Ensure consistent tone
      - Add meta description and title suggestions

  fact_checker:
    model: "gpt-4"
    capabilities: [research, search, text-analysis]
    model_config:
      temperature: 0.2
      max_tokens: 1500
    inputs: "editor"
    tools: [web_search]
    outputs: "verified_content"
    storage:
      save_outputs: true
    prompt: |
      Verify facts and claims in the content:
      - Check statistics and data accuracy
      - Verify source citations
      - Flag any questionable claims
      - Suggest corrections if needed

weaves:
  blog_post_creation:
    description: "Complete blog post creation from research to publication-ready content"
    agents:
      - topic_researcher
      - content_writer
      - editor
      - fact_checker
